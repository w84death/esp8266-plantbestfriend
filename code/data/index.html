<html lang=en>
<meta charset=utf-8>
<link rel=stylesheet href=theme.css>
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<title>ü™¥ // Plant Best Friend / ESP8266 IoT</title>
<script>
    var HttpClient = function() {
        this.get = function(aUrl, aCallback) {
            var httpReq = new XMLHttpRequest();
            httpReq.onreadystatechange = function() { 
                if (httpReq.readyState == 4 && httpReq.status == 200)
                    aCallback(httpReq.responseText);
            }
            httpReq.open( "GET", aUrl, true );            
            httpReq.send( null );
        };
    }
    var RefreshData = function() {
        var client = new HttpClient();
        client.get('/update', function(){});
        client.get('/temp', function(response) {
            document.getElementById("temp").innerHTML = Math.round(response) + "¬∞C";
        });
        client.get('/humi', function(response) {
            document.getElementById("humi").innerHTML = Math.round(response) + "%";
        });
        client.get('/mois', function(response) {
            document.getElementById("mois").innerHTML = Math.round(response) + "%";
        });
    }

    RefreshData();
</script>
<header><h1>ü™¥ Plant Best Friend</h1></header>
<main>
<section>
    <status><icon>üí¶</icon><span id="humi">?</span><small>ENVIRONMENT HUMIDITY</small> </status>
    <status><icon>‚ùÑÔ∏è</icon><span id="temp">?</span><small>ENVIRONMENT TEMP</small></status>
    <status><icon>üíß</icon><span id="mois">?</span><small>SOIL MOISURE</small></status>
</section> 
<section>
    <button id="refresh" onclick="RefreshData();">REFRESH</button>
</section>
<footer>
    &copy; 2020 <a href=cyfrowynomada.eu>Cyfrowy Nomada</a> / <a href=p1x.in>P1X</a>
